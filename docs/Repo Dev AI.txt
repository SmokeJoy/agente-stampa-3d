root@e75141ddb6cc:/workspace# python - <<'PY'
import sys, pkgutil
print("Python:", sys.version)
print("sys.path  :", *sys.path, sep="\n  ")
print("services? :", pkgutil.find_loader("services"))
print("uploader? :", pkgutil.find_loader("services.uploader"))
PY
Python: 3.12.10 (main, May  9 2025, 23:48:54) [GCC 12.2.0]
sys.path  :
  
  /usr/local/lib/python312.zip
  /usr/local/lib/python3.12
  /usr/local/lib/python3.12/lib-dynload
  /usr/local/lib/python3.12/site-packages
<stdin>:4: DeprecationWarning: 'pkgutil.find_loader' is deprecated and slated for removal in Python 3.14; use importlib.util.find_spec() instead
services? : <_frozen_importlib_external.SourceFileLoader object at 0x7f814704ca10>
<stdin>:5: DeprecationWarning: 'pkgutil.find_loader' is deprecated and slated for removal in Python 3.14; use importlib.util.find_spec() instead
uploader? : <_frozen_importlib_external.SourceFileLoader object at 0x7f8146f140e0>
root@e75141ddb6cc:/workspace# poetry run pytest -q tests/uploader/test_uploader.py

================================ ERRORS =================================
___________ ERROR collecting tests/uploader/test_uploader.py ____________
ImportError while importing test module '/workspace/tests/uploader/test_uploader.py'.
Hint: make sure your test modules/packages have valid Python names.
Traceback:
/usr/local/lib/python3.12/importlib/__init__.py:90: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
tests/uploader/test_uploader.py:6: in <module>
    from services.uploader.validator import (
E   ModuleNotFoundError: No module named 'services'
======================== short test summary info ========================
ERROR tests/uploader/test_uploader.py
!!!!!!!!!!!!!!!! Interrupted: 1 error during collection !!!!!!!!!!!!!!!!!
1 error in 0.22s
root@e75141ddb6cc:/workspace# pip install -e .
Obtaining file:///workspace
  Installing build dependencies ... done
  Checking if build backend supports build_editable ... done
  Getting requirements to build editable ... done
  Preparing editable metadata (pyproject.toml) ... done
Collecting fastapi==0.110.2 (from agente-stampa-3d==0.1.0)
  Using cached fastapi-0.110.2-py3-none-any.whl.metadata (24 kB)
Collecting google-api-python-client==2.120.0 (from agente-stampa-3d==0.1.0)
  Using cached google_api_python_client-2.120.0-py2.py3-none-any.whl.metadata (6.6 kB)
Collecting google-auth-httplib2==0.2.0 (from agente-stampa-3d==0.1.0)
  Using cached google_auth_httplib2-0.2.0-py2.py3-none-any.whl.metadata (2.2 kB)
Collecting google-auth-oauthlib==1.2.0 (from agente-stampa-3d==0.1.0)
  Using cached google_auth_oauthlib-1.2.0-py2.py3-none-any.whl.metadata (2.7 kB)
Collecting httplib2==0.22.0 (from agente-stampa-3d==0.1.0)
  Using cached httplib2-0.22.0-py3-none-any.whl.metadata (2.6 kB)
Collecting pydantic==2.7.1 (from agente-stampa-3d==0.1.0)
  Using cached pydantic-2.7.1-py3-none-any.whl.metadata (107 kB)
Collecting python-graphql-client==0.4.3 (from agente-stampa-3d==0.1.0)
  Using cached python_graphql_client-0.4.3-py3-none-any.whl.metadata (4.4 kB)
Collecting redis==5.0.4 (from agente-stampa-3d==0.1.0)
  Using cached redis-5.0.4-py3-none-any.whl.metadata (9.3 kB)
Collecting uvicorn==0.29.0 (from uvicorn[standard]==0.29.0->agente-stampa-3d==0.1.0)
  Using cached uvicorn-0.29.0-py3-none-any.whl.metadata (6.3 kB)
Collecting starlette<0.38.0,>=0.37.2 (from fastapi==0.110.2->agente-stampa-3d==0.1.0)
  Using cached starlette-0.37.2-py3-none-any.whl.metadata (5.9 kB)
Collecting typing-extensions>=4.8.0 (from fastapi==0.110.2->agente-stampa-3d==0.1.0)
  Using cached typing_extensions-4.13.2-py3-none-any.whl.metadata (3.0 kB)
Collecting google-auth<3.0.0.dev0,>=1.19.0 (from google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)
  Using cached google_auth-2.40.1-py2.py3-none-any.whl.metadata (6.2 kB)
Collecting google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,<3.0.0.dev0,>=1.31.5 (from google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)  
  Using cached google_api_core-2.25.0rc1-py3-none-any.whl.metadata (3.0 kB)
Collecting uritemplate<5,>=3.0.1 (from google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)
  Using cached uritemplate-4.1.1-py2.py3-none-any.whl.metadata (2.9 kB)
Collecting requests-oauthlib>=0.7.0 (from google-auth-oauthlib==1.2.0->agente-stampa-3d==0.1.0)
  Using cached requests_oauthlib-2.0.0-py2.py3-none-any.whl.metadata (11 kB)
Collecting pyparsing!=3.0.0,!=3.0.1,!=3.0.2,!=3.0.3,<4,>=2.4.2 (from httplib2==0.22.0->agente-stampa-3d==0.1.0)
  Using cached pyparsing-3.2.3-py3-none-any.whl.metadata (5.0 kB)
Collecting annotated-types>=0.4.0 (from pydantic==2.7.1->agente-stampa-3d==0.1.0)
  Using cached annotated_types-0.7.0-py3-none-any.whl.metadata (15 kB)
Collecting pydantic-core==2.18.2 (from pydantic==2.7.1->agente-stampa-3d==0.1.0)
  Using cached pydantic_core-2.18.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.5 kB)
Collecting aiohttp~=3.0 (from python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached aiohttp-3.11.18-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (7.7 kB)
Collecting requests~=2.0 (from python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached requests-2.32.3-py3-none-any.whl.metadata (4.6 kB)
Collecting websockets>=5.0 (from python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached websockets-15.0.1-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (6.8 kB)
Collecting click>=7.0 (from uvicorn==0.29.0->uvicorn[standard]==0.29.0->agente-stampa-3d==0.1.0)
  Using cached click-8.2.0-py3-none-any.whl.metadata (2.5 kB)
Collecting h11>=0.8 (from uvicorn==0.29.0->uvicorn[standard]==0.29.0->agente-stampa-3d==0.1.0)
  Using cached h11-0.16.0-py3-none-any.whl.metadata (8.3 kB)
Collecting httptools>=0.5.0 (from uvicorn[standard]==0.29.0->agente-stampa-3d==0.1.0)
  Using cached httptools-0.6.4-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (3.6 kB)
Collecting python-dotenv>=0.13 (from uvicorn[standard]==0.29.0->agente-stampa-3d==0.1.0)
  Using cached python_dotenv-1.1.0-py3-none-any.whl.metadata (24 kB)
Collecting pyyaml>=5.1 (from uvicorn[standard]==0.29.0->agente-stampa-3d==0.1.0)
  Using cached PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (2.1 kB)
Collecting uvloop!=0.15.0,!=0.15.1,>=0.14.0 (from uvicorn[standard]==0.29.0->agente-stampa-3d==0.1.0)
  Using cached uvloop-0.21.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
Collecting watchfiles>=0.13 (from uvicorn[standard]==0.29.0->agente-stampa-3d==0.1.0)
  Using cached watchfiles-1.0.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (4.9 kB)
Collecting aiohappyeyeballs>=2.3.0 (from aiohttp~=3.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl.metadata (5.9 kB)
Collecting aiosignal>=1.1.2 (from aiohttp~=3.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached aiosignal-1.3.2-py2.py3-none-any.whl.metadata (3.8 kB)
Collecting attrs>=17.3.0 (from aiohttp~=3.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached attrs-25.3.0-py3-none-any.whl.metadata (10 kB)
Collecting frozenlist>=1.1.1 (from aiohttp~=3.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached frozenlist-1.6.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (16 kB)
Collecting multidict<7.0,>=4.5 (from aiohttp~=3.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached multidict-6.4.3-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (5.3 kB)
Collecting propcache>=0.2.0 (from aiohttp~=3.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached propcache-0.3.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (10 kB)
Collecting yarl<2.0,>=1.17.0 (from aiohttp~=3.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached yarl-1.20.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (72 kB)
Collecting googleapis-common-protos<2.0.0,>=1.56.2 (from google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,<3.0.0.dev0,>=1.31.5->google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)
  Using cached googleapis_common_protos-1.70.0-py3-none-any.whl.metadata (9.3 kB)
Collecting protobuf!=3.20.0,!=3.20.1,!=4.21.0,!=4.21.1,!=4.21.2,!=4.21.3,!=4.21.4,!=4.21.5,<7.0.0,>=3.19.5 (from google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,<3.0.0.dev0,>=1.31.5->google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)
  Using cached protobuf-6.30.2-cp39-abi3-manylinux2014_x86_64.whl.metadata (593 bytes)
Collecting proto-plus<2.0.0,>=1.22.3 (from google-api-core!=2.0.*,!=2.1.*,!=2.2.*,!=2.3.0,<3.0.0.dev0,>=1.31.5->google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)
  Using cached proto_plus-1.26.1-py3-none-any.whl.metadata (2.2 kB)
Collecting cachetools<6.0,>=2.0.0 (from google-auth<3.0.0.dev0,>=1.19.0->google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)
  Using cached cachetools-5.5.2-py3-none-any.whl.metadata (5.4 kB)
Collecting pyasn1-modules>=0.2.1 (from google-auth<3.0.0.dev0,>=1.19.0->google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)
  Using cached pyasn1_modules-0.4.2-py3-none-any.whl.metadata (3.5 kB)
Collecting rsa<5,>=3.1.4 (from google-auth<3.0.0.dev0,>=1.19.0->google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)
  Using cached rsa-4.9.1-py3-none-any.whl.metadata (5.6 kB)
Collecting charset-normalizer<4,>=2 (from requests~=2.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached charset_normalizer-3.4.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl.metadata (35 kB)
Collecting idna<4,>=2.5 (from requests~=2.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached idna-3.10-py3-none-any.whl.metadata (10 kB)
Collecting urllib3<3,>=1.21.1 (from requests~=2.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached urllib3-2.4.0-py3-none-any.whl.metadata (6.5 kB)
Collecting certifi>=2017.4.17 (from requests~=2.0->python-graphql-client==0.4.3->agente-stampa-3d==0.1.0)
  Using cached certifi-2025.4.26-py3-none-any.whl.metadata (2.5 kB)
Collecting oauthlib>=3.0.0 (from requests-oauthlib>=0.7.0->google-auth-oauthlib==1.2.0->agente-stampa-3d==0.1.0)
  Using cached oauthlib-3.2.2-py3-none-any.whl.metadata (7.5 kB)
Collecting anyio<5,>=3.4.0 (from starlette<0.38.0,>=0.37.2->fastapi==0.110.2->agente-stampa-3d==0.1.0)
  Using cached anyio-4.9.0-py3-none-any.whl.metadata (4.7 kB)
Collecting sniffio>=1.1 (from anyio<5,>=3.4.0->starlette<0.38.0,>=0.37.2->fastapi==0.110.2->agente-stampa-3d==0.1.0)
  Using cached sniffio-1.3.1-py3-none-any.whl.metadata (3.9 kB)
Collecting pyasn1<0.7.0,>=0.6.1 (from pyasn1-modules>=0.2.1->google-auth<3.0.0.dev0,>=1.19.0->google-api-python-client==2.120.0->agente-stampa-3d==0.1.0)
  Using cached pyasn1-0.6.1-py3-none-any.whl.metadata (8.4 kB)
Using cached fastapi-0.110.2-py3-none-any.whl (91 kB)
Using cached google_api_python_client-2.120.0-py2.py3-none-any.whl (12.2 MB)
Using cached google_auth_httplib2-0.2.0-py2.py3-none-any.whl (9.3 kB)
Using cached google_auth_oauthlib-1.2.0-py2.py3-none-any.whl (24 kB)
Using cached httplib2-0.22.0-py3-none-any.whl (96 kB)
Using cached pydantic-2.7.1-py3-none-any.whl (409 kB)
Using cached python_graphql_client-0.4.3-py3-none-any.whl (4.9 kB)       
Using cached redis-5.0.4-py3-none-any.whl (251 kB)
Using cached uvicorn-0.29.0-py3-none-any.whl (60 kB)
Using cached pydantic_core-2.18.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (2.1 MB)
Using cached aiohttp-3.11.18-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (1.7 MB)
Using cached annotated_types-0.7.0-py3-none-any.whl (13 kB)
Using cached click-8.2.0-py3-none-any.whl (102 kB)
Using cached google_api_core-2.25.0rc1-py3-none-any.whl (160 kB)
Using cached google_auth-2.40.1-py2.py3-none-any.whl (216 kB)
Using cached h11-0.16.0-py3-none-any.whl (37 kB)
Using cached httptools-0.6.4-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (510 kB)
Using cached pyparsing-3.2.3-py3-none-any.whl (111 kB)
Using cached python_dotenv-1.1.0-py3-none-any.whl (20 kB)
Using cached PyYAML-6.0.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (767 kB)
Using cached requests-2.32.3-py3-none-any.whl (64 kB)
Using cached requests_oauthlib-2.0.0-py2.py3-none-any.whl (24 kB)        
Using cached starlette-0.37.2-py3-none-any.whl (71 kB)
Using cached typing_extensions-4.13.2-py3-none-any.whl (45 kB)
Using cached uritemplate-4.1.1-py2.py3-none-any.whl (10 kB)
Using cached uvloop-0.21.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (4.7 MB)
Using cached watchfiles-1.0.5-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (454 kB)
Using cached websockets-15.0.1-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (182 kB)
Using cached aiohappyeyeballs-2.6.1-py3-none-any.whl (15 kB)
Using cached aiosignal-1.3.2-py2.py3-none-any.whl (7.6 kB)
Using cached anyio-4.9.0-py3-none-any.whl (100 kB)
Using cached attrs-25.3.0-py3-none-any.whl (63 kB)
Using cached cachetools-5.5.2-py3-none-any.whl (10 kB)
Using cached certifi-2025.4.26-py3-none-any.whl (159 kB)
Using cached charset_normalizer-3.4.2-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (148 kB)
Using cached frozenlist-1.6.0-cp312-cp312-manylinux_2_5_x86_64.manylinux1_x86_64.manylinux_2_17_x86_64.manylinux2014_x86_64.whl (316 kB)
Using cached googleapis_common_protos-1.70.0-py3-none-any.whl (294 kB)
Using cached idna-3.10-py3-none-any.whl (70 kB)
Using cached multidict-6.4.3-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (223 kB)
Using cached oauthlib-3.2.2-py3-none-any.whl (151 kB)
Using cached propcache-0.3.1-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (245 kB)
Using cached proto_plus-1.26.1-py3-none-any.whl (50 kB)
Using cached protobuf-6.30.2-cp39-abi3-manylinux2014_x86_64.whl (316 kB) 
Using cached pyasn1_modules-0.4.2-py3-none-any.whl (181 kB)
Using cached rsa-4.9.1-py3-none-any.whl (34 kB)
Using cached urllib3-2.4.0-py3-none-any.whl (128 kB)
Using cached yarl-1.20.0-cp312-cp312-manylinux_2_17_x86_64.manylinux2014_x86_64.whl (349 kB)
Using cached pyasn1-0.6.1-py3-none-any.whl (83 kB)
Using cached sniffio-1.3.1-py3-none-any.whl (10 kB)
Building wheels for collected packages: agente-stampa-3d
  Building editable for agente-stampa-3d (pyproject.toml) ... error
  error: subprocess-exited-with-error

  × Building editable for agente-stampa-3d (pyproject.toml) did not run successfully.
  │ exit code: 1
  ╰─> [28 lines of output]
      Traceback (most recent call last):
        File "/usr/local/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 389, in <module>
          main()
        File "/usr/local/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 373, in main
          json_out["return_val"] = hook(**hook_input["kwargs"])
                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "/usr/local/lib/python3.12/site-packages/pip/_vendor/pyproject_hooks/_in_process/_in_process.py", line 303, in build_editable        
          return hook(wheel_directory, config_settings, metadata_directory)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        File "/tmp/pip-build-env-t2x6k59h/overlay/lib/python3.12/site-packages/poetry/core/masonry/api.py", line 87, in build_editable
          return WheelBuilder.make_in(
                 ^^^^^^^^^^^^^^^^^^^^^
        File "/tmp/pip-build-env-t2x6k59h/overlay/lib/python3.12/site-packages/poetry/core/masonry/builders/wheel.py", line 95, in make_in        
          wb.build(target_dir=directory)
        File "/tmp/pip-build-env-t2x6k59h/overlay/lib/python3.12/site-packages/poetry/core/masonry/builders/wheel.py", line 129, in build
          self._add_pth(zip_file)
        File "/tmp/pip-build-env-t2x6k59h/overlay/lib/python3.12/site-packages/poetry/core/masonry/builders/wheel.py", line 158, in _add_pth      
          for include in self._module.includes:
                         ^^^^^^^^^^^^
        File "/usr/local/lib/python3.12/functools.py", line 998, in __get__
          val = self.func(instance)
                ^^^^^^^^^^^^^^^^^^^
        File "/tmp/pip-build-env-t2x6k59h/overlay/lib/python3.12/site-packages/poetry/core/masonry/builders/builder.py", line 70, in _module      
          return Module(
                 ^^^^^^^
        File "/tmp/pip-build-env-t2x6k59h/overlay/lib/python3.12/site-packages/poetry/core/masonry/utils/module.py", line 68, in __init__
          raise ModuleOrPackageNotFoundError(
      poetry.core.masonry.utils.module.ModuleOrPackageNotFoundError: No file/folder found for package agente-stampa-3d
      [end of output]

  note: This error originates from a subprocess, and is likely not a problem with pip.
  ERROR: Failed building editable for agente-stampa-3d
Failed to build agente-stampa-3d

[notice] A new release of pip is available: 25.0.1 -> 25.1.1
[notice] To update, run: pip install --upgrade pip
ERROR: Failed to build installable wheels for some pyproject.toml based projects (agente-stampa-3d)
root@e75141ddb6cc:/workspace# 
